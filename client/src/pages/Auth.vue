<template>
  <div class="d-flex justify-content-center align-items-center vh-100 bg-light">
    <div class="card shadow p-4 w-100" style="max-width: 400px">
      <h2 class="text-center mb-4 text-primary">{{ isLogin ? 'ğŸ” ÄÄƒng nháº­p' : 'âœï¸ ÄÄƒng kÃ½' }}</h2>

      <form @submit.prevent="handleSubmit">
        <div class="mb-3">
          <label class="form-label">TÃªn ngÆ°á»i dÃ¹ng</label>
          <input v-model="form.name" class="form-control" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Email</label>
          <input v-model="form.email" type="email" class="form-control" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Máº­t kháº©u</label>
          <input v-model="form.password" type="password" class="form-control" required />
        </div>

        <button class="btn btn-primary w-100 mb-3">
          {{ isLogin ? 'ÄÄƒng nháº­p' : 'ÄÄƒng kÃ½' }}
        </button>
      </form>

      <p class="text-center text-muted">
        {{ isLogin ? 'ChÆ°a cÃ³ tÃ i khoáº£n?' : 'ÄÃ£ cÃ³ tÃ i khoáº£n?' }}
        <button class="btn btn-link p-0" @click="isLogin = !isLogin">
          {{ isLogin ? 'ÄÄƒng kÃ½' : 'ÄÄƒng nháº­p' }}
        </button>
      </p>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const isLogin = ref(true)

const form = ref({
  name: '',
  email: '',
  password: ''
})

const handleSubmit = () => {
  // Vá»›i má»¥c Ä‘Ã­ch demo, báº¡n cÃ³ thá»ƒ thay pháº§n nÃ y báº±ng gá»i API sau
  const newUser = {
    name: form.value.name,
    email: form.value.email
  }

  login(newUser) // tá»« auth.js
  router.push('/') // chuyá»ƒn vá» trang chá»§ sau Ä‘Äƒng nháº­p
}
</script>
